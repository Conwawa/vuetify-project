import{Y as f,x as y,ai as x,a2 as o,a3 as l,a7 as t,c as e,a5 as n,a8 as i,X as g,aa as V,aE as b,a9 as p,ac as r}from"./index-5f5a5327.js";import{V as k}from"./VContainer-be4fe376.js";import{V as w,a as u}from"./VRow-f991f937.js";/* empty css              */const v={style:{background:"#ECEFF1",width:"100%"}},E=t("thead",null,[t("tr",{style:{background:"#E1F5FE"}},[t("th",null,"交易日期"),t("th",null,"金額"),t("th",{class:"text-center"},"商品")])],-1),C={style:{"font-size":"13px"}},F={class:"text-red"},B={class:"py-2"},N={class:"text-green"},S={class:"text-primary ml-2"},O=t("div",{id:"footer"},null,-1),A={__name:"OrdersView",setup(q){const m=f(),_=y([]);return(async()=>{try{const{data:c}=await x.get("/orders");_.value.push(...c.result.map(d=>(d.total=d.cart.reduce((a,s)=>a+s.product.price*s.quantity,0),d)))}catch(c){m({text:c.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(c,d)=>(o(),l(i,null,[t("div",v,[e(k,null,{default:n(()=>[e(w,{class:"d-flex flex-column align-center"},{default:n(()=>[e(u,{cols:"12"}),e(u,{cols:"11",md:"8",class:"d-flex",style:{"padding-top":"3rem",color:"#4ea1d3","font-size":"1.5rem"}},{default:n(()=>[e(g,{icon:"mdi-shopping"}),V("交易紀錄 ")]),_:1}),e(u,{cols:"11",md:"8"},{default:n(()=>[e(b,{style:{border:"0.5px solid #4ea1d3"}},{default:n(()=>[E,t("tbody",C,[(o(!0),l(i,null,p(_.value,a=>(o(),l("tr",{key:a._id},[t("td",null,r(new Date(a.date).toLocaleString()),1),t("td",F,"$"+r(a.total),1),t("td",B,[t("ul",null,[(o(!0),l(i,null,p(a.cart,(s,h)=>(o(),l("li",{key:s._id,class:"li-decoration"},[t("span",N,"★ NO."+r(h+1),1),t("span",S,r(s.product.name)+" * "+r(s.quantity),1)]))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),O],64))}};export{A as default};
