import{_ as b,Y as x,ax as g,x as u,ay as y,a2 as h,a3 as P,c as l,a5 as r,aa as f,az as k,aA as d,a7 as w,K as B,av as C,aw as S,aB as N}from"./index-a6f3639f.js";import{v as V}from"./index-6fc8fe85.js";import{V as q}from"./VContainer-d42c8fe3.js";import{V as R,a as U}from"./VRow-1744d4d5.js";import{V as I}from"./VForm-50e82838.js";import"./_commonjsHelpers-39b5b250.js";/* empty css              */const T=n=>(C("data-v-e95d07ee"),n=n(),S(),n),z={class:"background"},E=T(()=>w("h1",{class:"text-center",style:{color:"#333"}},"會員註冊",-1)),F={class:"text-center"},M={__name:"RegisterView",setup(n){const i=x(),_=g(),m=u(!1),a=y({account:"",password:"",confirmPassword:"",phoneNumber:""}),p=u(null),c=u(null),s={required:o=>!!o||"欄位必填",email:o=>V.isEmail(o)||"格式錯誤",min:o=>o.length>=6||"密碼至少六個字",max:o=>o.length<=20||"密碼最多六個字",confirm:()=>a.confirmPassword===a.password||"密碼不一致",phone:o=>V.isMobilePhone(o,"zh-TW")||"手機錯誤"},v=async()=>{try{await N.post("/users",a),i({text:"註冊成功",showCloseButton:!1,snackbarProps:{timeout:2e3,color:"green",location:"bottom"}}),_.push("/login")}catch(o){console.log(o),i({text:o.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"danger",location:"bottom"}})}};return(o,e)=>(h(),P("div",z,[l(q,{class:"mt-4 h-100"},{default:r(()=>[l(R,{class:"h-100",justify:"center","align-content":"center"},{default:r(()=>[l(U,{cols:"11",md:"6",class:"backdrop-filter py-5"},{default:r(()=>[E,l(I,{modelValue:m.value,"onUpdate:modelValue":e[6]||(e[6]=t=>m.value=t),onSubmit:k(v,["prevent"])},{default:r(()=>[l(d,{modelValue:a.account,"onUpdate:modelValue":e[0]||(e[0]=t=>a.account=t),label:"帳號",type:"email",rules:[s.required,s.email]},null,8,["modelValue","rules"]),l(d,{modelValue:a.password,"onUpdate:modelValue":[e[1]||(e[1]=t=>a.password=t),e[2]||(e[2]=t=>c.value.validate())],label:"密碼",type:"password",maxLength:"20",rules:[s.min,s.max,s.required],ref_key:"elPassword",ref:p},null,8,["modelValue","rules"]),l(d,{modelValue:a.confirmPassword,"onUpdate:modelValue":[e[3]||(e[3]=t=>a.confirmPassword=t),e[4]||(e[4]=t=>p.value.validate())],type:"password",label:"確認密碼",rules:[s.min,s.max,s.required,s.confirm],ref_key:"elPasswordConfirm",ref:c},null,8,["modelValue","rules"]),l(d,{modelValue:a.phoneNumber,"onUpdate:modelValue":e[5]||(e[5]=t=>a.phoneNumber=t),label:"手機",rules:[s.required,s.phone]},null,8,["modelValue","rules"]),w("div",F,[l(B,{color:"primary",type:"submit",style:{height:"2.5rem"}},{default:r(()=>[f("確認送出")]),_:1})])]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})]),_:1}),f("> ")]))}},D=b(M,[["__scopeId","data-v-e95d07ee"]]);export{D as default};
